@startuml

' === Interfaces ===
interface INewsDB {
    + saveNews($title, $category, $description, $source) : boolean
    + getNews() : array
    + deleteNews($id) : boolean
}

interface IteratorAggregate {
    + getIterator() : Traversable
}

' class ArrayIterator {
' }

' === Main class ===
class NewsDB {
    - const DB_NAME = "news.db"
    - _db : SQLite3
    - items : array

    + __construct()
    + __destruct()
    + saveNews($title, $category, $description, $source) : boolean
    + getNews() : array
    + deleteNews($id) : boolean
    + getIterator() : Traversable

    -- internal methods --
    # getDb() : SQLite3
    - initDatabase() : void
    - getCategories() : void
}

NewsDB ..|> INewsDB : implements
NewsDB ..|> IteratorAggregate : implements
' NewsDB --> ArrayIterator : returns

' === Include file "classes" ===
' class delete_news.inc {
'     + $deleteId : integer
'     + $result : boolean
' }

' class get_news.inc {
'     + $newsData : array
'     + $newsCount : integer
' }

' class save_news.inc {
'     + $title : string
'     + $category : int
'     + $description : string
'     + $source : string
' }

' class news.php {
'     + $news : NewsDB
'     + $errMsg : string
' }

' news.php --> NewsDB : creates
' delete_news.inc --> NewsDB : deleteNews()
' save_news.inc --> NewsDB : saveNews()
' get_news.inc --> NewsDB : getNews()

@enduml
