@startuml

' ============================
'      Interfaces
' ============================

interface INewsDB {
    + saveNews($title, $category, $description, $source) : boolean
    + getNews() : array
    + deleteNews($id) : boolean
}

interface Iterator {
    + rewind() : void
    + valid() : bool
    + next() : void
    + key() : mixed
    + current() : mixed
}

interface IteratorAggregate {
    + getIterator() : Traversable
}


' ============================
'      Iterator Example
' ============================

class NumbersSquared {
    - start : int
    - end : int
    - current : int

    + __construct(start, end)
    + rewind() : void
    + valid() : bool
    + next() : void
    + key() : mixed
    + current() : float|int
}

Iterator <|.. NumbersSquared : implements


' ============================
'      Database Classes
' ============================

class SQLite3 {

}

class ArrayIterator {
}
ArrayIterator ..|> Iterator : implements
class NewsDB {
    - const DB_NAME = "news.db"
    - _db : SQLite3
    - items : array

    + __construct()
    + __destruct()
    + saveNews($title, $category, $description, $source) : boolean
    + getNews() : array
    + deleteNews($id) : boolean
    + getIterator() : Traversable

    -- internal methods --
    # getDb() : SQLite3
    - initDatabase() : void
    - getCategories() : void
}


' ============================
'      Relations
' ============================

NewsDB ..|> INewsDB : implements
NewsDB ..|> IteratorAggregate : implements

SQLite3 --> NewsDB
NewsDB --> ArrayIterator : returns iterator

@enduml
